{"version":3,"file":"index.js","sources":["../node_modules/tslib/tslib.es6.js","../src/actions.ts","../src/ErrorBoundary.tsx","../src/store.ts","../src/storeProxy.ts","../src/Application.tsx","../src/sprite.ts","../src/loading.ts","../src/asyncImport.tsx","../src/inject.ts","../src/utils.ts","../src/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export let ErrorActionName: string = \"@@framework/ERROR\";\nexport let LoadingActionName: string = \"LOADING\";\nexport let InitModuleActionName: string = \"INIT\";\nexport let LocationChangeActionName: string = \"@@router/LOCATION_CHANGE\";\n\nexport function errorAction(error: any) {\n  return {\n    type: ErrorActionName,\n    error\n  };\n}\n\nexport function loadingAction(namespace: string, group: string, status: string) {\n  return {\n    type: namespace + \"/\" + LoadingActionName,\n    data: { [group]: status }\n  };\n}\n\nexport function initModuleAction(namespace: string) {\n  return {\n    type: namespace + \"/\" + InitModuleActionName\n  };\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport { errorAction } from \"./actions\";\n\nexport interface Props {\n  dispatch: any;\n}\nexport interface State {\n  message: string;\n}\n\nclass Component extends React.PureComponent<Props, State> {\n  public state = {\n    message: \"\"\n  };\n  public render() {\n    if (this.state.message) {\n      return <div>failed to render, error: {this.state.message}</div>;\n    }\n    return this.props.children;\n  }\n  public componentDidCatch(error: Error) {\n    this.setState({ message: error.message });\n    this.props.dispatch(errorAction(error));\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<string>) => {\n  return {\n    dispatch\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Component);\n","import { History } from \"history\";\nimport createHistory from \"history/createBrowserHistory\";\nimport { routerMiddleware, routerReducer } from \"react-router-redux\";\nimport { applyMiddleware, combineReducers, compose, createStore, Store } from \"redux\";\nimport createSagaMiddleware, { SagaMiddleware } from \"redux-saga\";\n\nconst storeHistory: History = createHistory();\nconst routingMiddleware = routerMiddleware(storeHistory);\n\nconst reducers: { [key: string]: any } = {\n  router: routerReducer\n};\nconst sagaMiddleware: SagaMiddleware<any> = createSagaMiddleware();\nlet devtools = (options: any) => (noop: any) => noop;\nif (process.env.NODE_ENV !== \"production\" && window[\"__REDUX_DEVTOOLS_EXTENSION__\"]) {\n  devtools = window[\"__REDUX_DEVTOOLS_EXTENSION__\"];\n}\nexport function initStore(storeMiddlewares: any[], storeEnhancers: Function[]) {\n  const middlewares = [...storeMiddlewares, routingMiddleware, sagaMiddleware];\n  const enhancers = [...storeEnhancers, applyMiddleware(...middlewares), devtools(window[\"__REDUX_DEVTOOLS_EXTENSION__OPTIONS\"])];\n  const store: Store<any> = createStore<{}>(combineReducers(reducers), {}, compose(...enhancers));\n  return { store, reducers, sagaMiddleware };\n}\nexport { storeHistory };\n","import { combineReducers, Middleware, Store } from \"redux\";\nimport { put, takeEvery } from \"redux-saga/effects\";\nimport { errorAction, LocationChangeActionName } from \"./actions\";\nimport { initStore, storeHistory } from \"./store\";\nimport { ActionsMap } from \"./types\";\n\nlet _store: Store<any> | undefined = undefined;\nlet routeInited: boolean;\nconst sagasMap: ActionsMap = {};\nconst reducersMap: ActionsMap = {};\nconst sagaNames: string[] = [];\n\nfunction getActionData(action: {}) {\n  const arr = Object.keys(action).filter(key => key !== \"type\");\n  if (arr.length === 0) {\n    return undefined;\n  } else if (arr.length === 1) {\n    return action[arr[0]];\n  } else {\n    const data = { ...action };\n    delete data[\"type\"];\n    return data;\n  }\n}\n\nfunction reducer(state: any = {}, action: { type: string; data: any }) {\n  if (action.type === LocationChangeActionName) {\n    // 为统一同步模块和异步模块，模块被加载时，监听不到当前的locationChange\n    if (!routeInited) {\n      routeInited = true;\n      return state;\n    }\n  }\n  const item = reducersMap[action.type];\n  if (item && _store) {\n    const rootState = _store.getState();\n    const newState = { ...state };\n    Object.keys(item).forEach(namespace => {\n      newState[namespace] = item[namespace](getActionData(action), state[namespace], rootState);\n    });\n    return newState;\n  }\n  return state;\n}\n\nfunction* sagaHandler(action: { type: string; data: any }) {\n  const item = sagasMap[action.type];\n  if (item && _store) {\n    const rootState = _store.getState();\n    const arr = Object.keys(item);\n    for (const moduleName of arr) {\n      try {\n        yield* item[moduleName](getActionData(action), rootState[moduleName], rootState);\n      } catch (error) {\n        yield put(errorAction(error));\n      }\n    }\n  }\n}\n\nfunction* saga() {\n  yield takeEvery(sagaNames, sagaHandler);\n}\n\nexport interface State {\n  router: {\n    location: {\n      pathname: string;\n      search: {};\n      hash: string;\n      key: string;\n    };\n  };\n  project: {};\n}\n\nexport function buildStore(storeMiddlewares: Middleware[], storeEnhancers: Function[], injectedModules: { type: string }[]) {\n  const { store, reducers, sagaMiddleware } = initStore(storeMiddlewares, storeEnhancers);\n  _store = store;\n  reducers.project = reducer;\n  store.replaceReducer(combineReducers(reducers));\n\n  sagaMiddleware.run(saga as any);\n\n  window.onerror = (message: string, filename?: string, lineno?: number, colno?: number, error?: Error) => {\n    store.dispatch(errorAction(error || { message }));\n  };\n\n  injectedModules.forEach(action => {\n    store.dispatch(action);\n  });\n  injectedModules.length = 0;\n  return store;\n}\nexport function getStore() {\n  return _store;\n}\nexport { storeHistory, sagasMap, reducersMap, sagaNames };\n","import React, { ComponentType } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { ConnectedRouter } from \"react-router-redux\";\nimport { Middleware, Store } from \"redux\";\nimport ErrorBoundary from \"./ErrorBoundary\";\nimport { storeHistory } from \"./storeProxy\";\n\nexport default function buildApp(view: ComponentType<any>, container: string, storeMiddlewares: Middleware[], storeEnhancers: Function[], store: Store<any>) {\n  const WithRouter = withRouter(view);\n  ReactDOM.render(\n    <Provider store={store}>\n      <ErrorBoundary>\n        <ConnectedRouter history={storeHistory}>\n          <WithRouter />\n        </ConnectedRouter>\n      </ErrorBoundary>\n    </Provider>,\n    document.getElementById(container)\n  );\n}\n","function emptyObject<T>(obj: any): T {\n  const arr: string[] = [];\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      arr.push(key);\n    }\n  }\n  arr.forEach((key: string) => {\n    delete obj[key];\n  });\n  return obj;\n}\nfunction findIndexInArray<T>(arr: T[], fun: (item: T) => boolean): number {\n  for (let i = 0, k = arr.length; i < k; i++) {\n    if (fun(arr[i])) {\n      return i;\n    }\n  }\n  return -1;\n}\nexport const TaskCountEvent = \"TaskCountEvent\";\n\nexport const TaskCounterState = {\n  Start: \"Start\",\n  Stop: \"Stop\",\n  Depth: \"Depth\"\n};\n\nexport class PEvent {\n  public readonly target: PDispatcher;\n  public readonly currentTarget: PDispatcher;\n\n  constructor(\n    public readonly name: string,\n    public readonly data?: any,\n    public bubbling: boolean = false\n  ) {}\n\n  public setTarget(target: PDispatcher) {\n    (this as any).target = target;\n  }\n\n  public setCurrentTarget(target: PDispatcher) {\n    (this as any).currentTarget = target;\n  }\n}\n\nexport class PDispatcher {\n  protected readonly _handlers: {\n    [key: string]: Array<(e: PEvent) => void>;\n  } = {};\n\n  constructor(public readonly parent?: PDispatcher | undefined) {}\n\n  public addListener(ename: string, handler: (e: PEvent) => void): this {\n    let dictionary = this._handlers[ename];\n    if (!dictionary) {\n      this._handlers[ename] = dictionary = [];\n    }\n    dictionary.push(handler);\n    return this;\n  }\n\n  public removeListener(ename?: string, handler?: (e: PEvent) => void): this {\n    if (!ename) {\n      emptyObject(this._handlers);\n    } else {\n      const handlers = this._handlers;\n      if (handlers.propertyIsEnumerable(ename)) {\n        const dictionary = handlers[ename];\n        if (!handler) {\n          delete handlers[ename];\n        } else {\n          const n = dictionary.indexOf(handler);\n          if (n > -1) {\n            dictionary.splice(n, 1);\n          }\n          if (dictionary.length === 0) {\n            delete handlers[ename];\n          }\n        }\n      }\n    }\n    return this;\n  }\n\n  public dispatch(evt: PEvent): this {\n    if (!evt.target) {\n      evt.setTarget(this);\n    }\n    evt.setCurrentTarget(this);\n    const dictionary = this._handlers[evt.name];\n    if (dictionary) {\n      for (let i = 0, k = dictionary.length; i < k; i++) {\n        dictionary[i](evt);\n      }\n    }\n    if (this.parent && evt.bubbling) {\n      this.parent.dispatch(evt);\n    }\n    return this;\n  }\n  public setParent(parent?: PDispatcher): this {\n    (this as any).parent = parent;\n    return this;\n  }\n}\n\nexport class TaskCounter extends PDispatcher {\n  public readonly list: { promise: Promise<any>; note: string }[] = [];\n  private _timer: number;\n  constructor(public deferSecond: number) {\n    super();\n  }\n  public addItem(promise: Promise<any>, note: string = \"\"): Promise<any> {\n    if (!this.list.some(item => item.promise === promise)) {\n      this.list.push({ promise, note });\n      promise.then(\n        value => this.completeItem(promise),\n        reason => this.completeItem(promise)\n      );\n      if (this.list.length === 1) {\n        this.dispatch(new PEvent(TaskCountEvent, TaskCounterState.Start));\n        this._timer = window.setTimeout(() => {\n          this._timer = 0;\n          if (this.list.length > 0) {\n            this.dispatch(new PEvent(TaskCountEvent, TaskCounterState.Depth));\n          }\n        }, this.deferSecond * 1000);\n      }\n    }\n    return promise;\n  }\n  private completeItem(promise: Promise<any>): this {\n    const i = findIndexInArray(this.list, item => item.promise === promise);\n    if (i > -1) {\n      this.list.splice(i, 1);\n      if (this.list.length === 0) {\n        if (this._timer) {\n          clearTimeout(this._timer);\n          this._timer = 0;\n        }\n\n        this.dispatch(new PEvent(TaskCountEvent, TaskCounterState.Stop));\n      }\n    }\n    return this;\n  }\n}\n","import { loadingAction } from \"./actions\";\nimport { TaskCounter, TaskCounterState, TaskCountEvent } from \"./sprite\";\nimport { getStore } from \"./storeProxy\";\n\nconst loadings: { [namespace: string]: TaskCounter } = {};\n\nexport function setLoading<T>(item: T, namespace: string = \"app\", group: string = \"global\"): T {\n  const key = namespace + \"/\" + group;\n  if (!loadings[key]) {\n    loadings[key] = new TaskCounter(3);\n    loadings[key].addListener(TaskCountEvent, e => {\n      const store = getStore();\n      store && store.dispatch(loadingAction(namespace, group, e.data));\n    });\n  }\n  loadings[key].addItem(item as any);\n  return item;\n}\n\nexport { TaskCounterState as LoadingState };\n","import * as React from \"react\";\nimport { setLoading } from \"./loading\";\nimport { ModuleViews } from \"./types\";\n\nconst defaultLoadingComponent = () => <div>Loading...</div>;\nconst defaultErrorComponent = () => <div>Error...</div>;\n\nexport function asyncComponent(resolve: () => Promise<ModuleViews>, componentName: string = \"Main\", LoadingComponent: React.ComponentType<any> = defaultLoadingComponent) {\n  class AsyncComponent extends React.Component {\n    public state: {\n      Component: React.ComponentType<any> | null;\n    };\n    private LoadingComponent: React.ComponentType<any>;\n    constructor(props: {}, context?: any) {\n      super(props, context);\n      this.LoadingComponent = LoadingComponent;\n      this.state = {\n        Component: null\n      };\n    }\n    public shouldComponentUpdate(nextProps: any, nextState: any) {\n      return nextState.Component !== this.state.Component;\n    }\n    public componentDidMount() {\n      const promise = resolve()\n        .then(module => {\n          const Component = module.default[componentName];\n          this.setState({\n            Component\n          });\n        })\n        .catch(errorData => {\n          const Component = defaultErrorComponent;\n          this.setState({\n            Component\n          });\n        });\n      setLoading(promise);\n    }\n\n    public render() {\n      const { Component } = this.state;\n      const { LoadingComponent } = this;\n      return Component ? <Component {...this.props} /> : <LoadingComponent {...this.props} />;\n    }\n  }\n  return AsyncComponent as React.ComponentType<any>;\n}\n","import { reducersMap, sagaNames, sagasMap } from \"./storeProxy\";\nimport { Actions, ActionsMap } from \"./types\";\n\nconst sagaNameMap = {};\n\nfunction pushSagaName(actionName: string) {\n  if (!sagaNameMap[actionName]) {\n    sagaNameMap[actionName] = true;\n    sagaNames.push(actionName);\n  }\n}\n\nfunction transformAction(actionName: string, action: Function, listenerModule: string, actionsMap: ActionsMap) {\n  if (!actionsMap[actionName]) {\n    actionsMap[actionName] = {};\n  }\n  actionsMap[actionName][listenerModule] = action;\n  if (actionsMap === sagasMap) {\n    pushSagaName(actionName);\n  }\n}\n\nexport function injectActions(namespace: string, actions: Actions) {\n  Object.keys(actions).forEach(actionName => {\n    transformAction(namespace + \"/\" + actionName, actions[actionName], namespace, actions[actionName].__effect__ ? sagasMap : reducersMap);\n  });\n}\n\nexport function injectHandlers(listenerModule: string, handlers: Actions) {\n  Object.keys(handlers).forEach(handlerName => {\n    transformAction(handlerName, handlers[handlerName], listenerModule, handlers[handlerName].__effect__ ? sagasMap : reducersMap);\n  });\n}\n\nexport interface BaseState {\n  loading: {\n    global: string;\n  };\n}\nexport interface BaseAction {\n  INIT(data: any, moduleState?: any, rootState?: any): any;\n  LOADING(loading: { [group: string]: string }, moduleState?: any, rootState?: any): any;\n}\nexport interface BaseHandlers {}\n","export function assignObject<T, U>(target: T, source: U): T & U {\n  for (const key in source) {\n    if (source.hasOwnProperty(key)) {\n      (target as any)[key] = source[key];\n    }\n  }\n  return target as T & U;\n}\n","import { ComponentType } from \"react\";\nimport { Middleware } from \"redux\";\nimport { initModuleAction } from \"./actions\";\nimport buildApp from \"./Application\";\nimport { asyncComponent } from \"./asyncImport\";\nimport { injectActions, injectHandlers } from \"./inject\";\nimport { LoadingState, setLoading } from \"./loading\";\nimport { buildStore, getStore, State, storeHistory } from \"./storeProxy\";\nimport { Model } from \"./types\";\nimport { assignObject } from \"./utils\";\n\nconst injectedModules: { type: string }[] = [];\nconst hasInjected: { [moduleName: string]: boolean } = {};\nconst actionsProxy: { [moduleName: string]: { [action: string]: Function } } = {};\n\nexport function buildFacade<T>(namespace: string) {\n  let actions: T;\n  if (window[\"Proxy\"]) {\n    actions = new window[\"Proxy\"](\n      {},\n      {\n        get: (target: {}, key: string) => {\n          return (data: any) => ({ type: namespace + \"/\" + key, data });\n        }\n      }\n    );\n  } else {\n    actions = getModuleActions(namespace) as any;\n  }\n  return {\n    namespace,\n    actions\n  };\n}\n\nfunction getModuleActions(namespace: string) {\n  const actions = actionsProxy[namespace] || {};\n  actionsProxy[namespace] = actions;\n  return actions;\n}\n\nexport function buildState<S>(initState: S) {\n  const state = initState as any;\n  if (!state.loading) {\n    state.loading = {};\n  }\n  state.loading.global = \"\";\n  return state as S & {\n    loading: {\n      global: string;\n    };\n  };\n}\n\nexport function buildActionByReducer<T, S>(reducer: (data: T, moduleState: S, rootState: any) => S) {\n  const fun = reducer as any;\n  return fun as (data: T) => { type: string; data: T };\n}\nexport function buildActionByEffect<T, S>(effect: (data: T, moduleState: S, rootState: any) => IterableIterator<any>) {\n  const fun = effect as any;\n  fun.__effect__ = true;\n  return fun as (data: T) => { type: string; data: T };\n}\nexport function buildHandlerByReducer<T, S>(reducer: (data: T, moduleState: S, rootState: any) => S) {\n  const fun = reducer as any;\n  return fun as (data: T) => { type: string; data: T };\n}\nexport function buildHandlerByEffect<T, S>(effect: (data: T, moduleState: S, rootState: any) => IterableIterator<any>) {\n  const fun = effect as any;\n  fun.__effect__ = true;\n  return fun as (data: T) => { type: string; data: T };\n}\nexport function buildModel<S, A, H>(state: S, initActions: A, initHandlers: H) {\n  const actions = extendActions(state, initActions);\n  const handlers = extendHandlers(state, initHandlers);\n  return { state, actions, handlers };\n}\n\nexport function injectComponents<T>(namespace: string, components: T, module: Model) {\n  if (!hasInjected[namespace]) {\n    injectActions(namespace, module.actions);\n    injectHandlers(namespace, module.handlers);\n    const actions = getModuleActions(namespace);\n    Object.keys(module.actions).forEach(key => {\n      actions[key] = (data: any) => ({ type: namespace + \"/\" + key, data });\n    });\n    hasInjected[namespace] = true;\n    const action = initModuleAction(namespace);\n    const store = getStore();\n    if (store) {\n      store.dispatch(action);\n    } else {\n      injectedModules.push(action);\n    }\n  }\n  return components;\n}\n\nfunction extendActions<S, R>(initState: S, actions: R) {\n  return assignObject(\n    {\n      INIT: buildActionByReducer(function(data: any, moduleState: S = initState, rootState?: any): S {\n        return initState;\n      }),\n      LOADING: buildActionByReducer(function(loading: { [group: string]: string }, moduleState: S = initState, rootState?: any): S {\n        return {\n          ...(moduleState as any),\n          loading: { ...(moduleState as any).loading, ...loading }\n        };\n      })\n    },\n    actions\n  );\n}\n\nfunction extendHandlers<S, R>(initState: S, handlers: R) {\n  return assignObject({}, handlers);\n}\n\nexport function createApp(component: ComponentType<any>, container: string, storeMiddlewares: Middleware[] = [], storeEnhancers: Function[] = []) {\n  const store = buildStore(storeMiddlewares, storeEnhancers, injectedModules);\n  buildApp(component, container, storeMiddlewares, storeEnhancers, store);\n}\nexport { storeHistory, getStore, asyncComponent, setLoading, LoadingState, State };\n"],"names":["tslib_1.__extends","React","connect","routerMiddleware","routerReducer","applyMiddleware","createStore","combineReducers","compose","tslib_1.__values","put","takeEvery","withRouter","Provider","ConnectedRouter","React.createElement","React.Component"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;AAgBA,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;KACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;IAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;;AAE/E,AAAO,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE;IAC5B,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;IACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;CACxF;;AAED,AAAO,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC,EAAE;IACxD,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;QACjD,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;QACjB,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KAChF;IACD,OAAO,CAAC,CAAC;EACZ;AACD,AAkCA;AACA,AAAO,SAAS,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE;IACvC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACjH,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACzJ,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IAClE,SAAS,IAAI,CAAC,EAAE,EAAE;QACd,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;QAC9D,OAAO,CAAC,EAAE,IAAI;YACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;YACnH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;YAChC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACT,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;gBAC9B,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;gBACxD,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;gBACjD,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;gBACjD;oBACI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;oBAC5G,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;oBACtF,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;oBACrE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;oBACnE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;oBACtB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;aAC9B;YACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;SAC9B,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;QAC1D,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;KACpF;CACJ;AACD,AAIA;AACA,AAAO,SAAS,QAAQ,CAAC,CAAC,EAAE;IACxB,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IAClE,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACxB,OAAO;QACH,IAAI,EAAE,YAAY;YACd,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC;YACnC,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;SAC3C;KACJ,CAAC;CACL;;AC7GM,IAAI,eAAe,GAAW,mBAAmB,CAAC;AACzD,AAAO,IAAI,iBAAiB,GAAW,SAAS,CAAC;AACjD,AAAO,IAAI,oBAAoB,GAAW,MAAM,CAAC;AACjD,AAAO,IAAI,wBAAwB,GAAW,0BAA0B,CAAC;AAEzE,qBAA4B,KAAU;IACpC,OAAO;QACL,IAAI,EAAE,eAAe;QACrB,KAAK,OAAA;KACN,CAAC;CACH;AAED,uBAA8B,SAAiB,EAAE,KAAa,EAAE,MAAc;IAC5E,OAAO;QACL,IAAI,EAAE,SAAS,GAAG,GAAG,GAAG,iBAAiB;QACzC,IAAI,YAAI,GAAC,KAAK,IAAG,MAAM,KAAE;KAC1B,CAAC;;CACH;AAED,0BAAiC,SAAiB;IAChD,OAAO;QACL,IAAI,EAAE,SAAS,GAAG,GAAG,GAAG,oBAAoB;KAC7C,CAAC;CACH;;ACXD;IAAwBA,6BAAiC;IAAzD;QAAA,qEAcC;QAbQ,WAAK,GAAG;YACb,OAAO,EAAE,EAAE;SACZ,CAAC;;KAWH;IAVQ,0BAAM,GAAb;QACE,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;YACtB,OAAOC;;gBAA+B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAO,CAAC;SACjE;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;KAC5B;IACM,qCAAiB,GAAxB,UAAyB,KAAY;QACnC,IAAI,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QAC1C,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;KACzC;IACH,gBAAC;CAAA,CAduBA,cAAK,CAAC,aAAa,GAc1C;AAED,IAAM,kBAAkB,GAAG,UAAC,QAA0B;IACpD,OAAO;QACL,QAAQ,UAAA;KACT,CAAC;CACH,CAAC;AAEF,oBAAeC,kBAAO,CAAC,IAAI,EAAE,kBAAkB,CAAC,CAAC,SAAS,CAAC,CAAC;;IC5BtD,YAAY,GAAY,aAAa,EAAE,CAAC;AAC9C,IAAM,iBAAiB,GAAGC,iCAAgB,CAAC,YAAY,CAAC,CAAC;AAEzD,IAAM,QAAQ,GAA2B;IACvC,MAAM,EAAEC,8BAAa;CACtB,CAAC;AACF,IAAM,cAAc,GAAwB,oBAAoB,EAAE,CAAC;AACnE,IAAI,QAAQ,GAAG,UAAC,OAAY,IAAK,OAAA,UAAC,IAAS,IAAK,OAAA,IAAI,GAAA,GAAA,CAAC;AACrD,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,IAAI,MAAM,CAAC,8BAA8B,CAAC,EAAE;IACnF,QAAQ,GAAG,MAAM,CAAC,8BAA8B,CAAC,CAAC;CACnD;AACD,mBAA0B,gBAAuB,EAAE,cAA0B;IAC3E,IAAM,WAAW,GAAO,gBAAgB,SAAE,iBAAiB,EAAE,cAAc,EAAC,CAAC;IAC7E,IAAM,SAAS,GAAO,cAAc,SAAEC,qBAAe,eAAI,WAAW,GAAG,QAAQ,CAAC,MAAM,CAAC,qCAAqC,CAAC,CAAC,EAAC,CAAC;IAChI,IAAM,KAAK,GAAeC,iBAAW,CAAKC,qBAAe,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAEC,aAAO,eAAI,SAAS,EAAE,CAAC;IAChG,OAAO,EAAE,KAAK,OAAA,EAAE,QAAQ,UAAA,EAAE,cAAc,gBAAA,EAAE,CAAC;CAC5C;;AChBD,IAAI,MAAM,GAA2B,SAAS,CAAC;AAC/C,IAAI,WAAoB,CAAC;AACzB,IAAM,QAAQ,GAAe,EAAE,CAAC;AAChC,IAAM,WAAW,GAAe,EAAE,CAAC;AACnC,IAAM,SAAS,GAAa,EAAE,CAAC;AAE/B,uBAAuB,MAAU;IAC/B,IAAM,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,KAAK,MAAM,GAAA,CAAC,CAAC;IAC9D,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE;QACpB,OAAO,SAAS,CAAC;KAClB;SAAM,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE;QAC3B,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KACvB;SAAM;QACL,IAAM,IAAI,gBAAQ,MAAM,CAAE,CAAC;QAC3B,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC;QACpB,OAAO,IAAI,CAAC;KACb;CACF;AAED,iBAAiB,KAAe,EAAE,MAAmC;IAApD,sBAAA,EAAA,UAAe;IAC9B,IAAI,MAAM,CAAC,IAAI,KAAK,wBAAwB,EAAE;;QAE5C,IAAI,CAAC,WAAW,EAAE;YAChB,WAAW,GAAG,IAAI,CAAC;YACnB,OAAO,KAAK,CAAC;SACd;KACF;IACD,IAAM,IAAI,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACtC,IAAI,IAAI,IAAI,MAAM,EAAE;QAClB,IAAM,WAAS,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QACpC,IAAM,UAAQ,gBAAQ,KAAK,CAAE,CAAC;QAC9B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,UAAA,SAAS;YACjC,UAAQ,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,EAAE,WAAS,CAAC,CAAC;SAC3F,CAAC,CAAC;QACH,OAAO,UAAQ,CAAC;KACjB;IACD,OAAO,KAAK,CAAC;CACd;AAED,qBAAsB,MAAmC;;;;;gBACjD,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;sBAC/B,IAAI,IAAI,MAAM,CAAA,EAAd,wBAAc;gBACV,SAAS,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAC9B,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;sBACF,EAAH,WAAG;;;sBAAH,iBAAG,CAAA;gBAAjB,UAAU;;;;gBAEjB,sBAAAC,SAAO,IAAI,CAAC,UAAU,CAAC,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,SAAS,CAAC,UAAU,CAAC,EAAE,SAAS,CAAC,CAAA,EAAA;;gBAAhF,SAAgF,CAAC;;;;gBAEjF,qBAAMC,WAAG,CAAC,WAAW,CAAC,OAAK,CAAC,CAAC,EAAA;;gBAA7B,SAA6B,CAAC;;;gBAJT,IAAG,CAAA;;;;;CAQ/B;AAED;;;oBACE,qBAAMC,iBAAS,CAAC,SAAS,EAAE,WAAW,CAAC,EAAA;;gBAAvC,SAAuC,CAAC;;;;CACzC;AAcD,oBAA2B,gBAA8B,EAAE,cAA0B,EAAE,eAAmC;IAClH,IAAA,gDAAiF,EAA/E,gBAAK,EAAE,sBAAQ,EAAE,kCAAc,CAAiD;IACxF,MAAM,GAAG,KAAK,CAAC;IACf,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;IAC3B,KAAK,CAAC,cAAc,CAACJ,qBAAe,CAAC,QAAQ,CAAC,CAAC,CAAC;IAEhD,cAAc,CAAC,GAAG,CAAC,IAAW,CAAC,CAAC;IAEhC,MAAM,CAAC,OAAO,GAAG,UAAC,OAAe,EAAE,QAAiB,EAAE,MAAe,EAAE,KAAc,EAAE,KAAa;QAClG,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,IAAI,EAAE,OAAO,SAAA,EAAE,CAAC,CAAC,CAAC;KACnD,CAAC;IAEF,eAAe,CAAC,OAAO,CAAC,UAAA,MAAM;QAC5B,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;KACxB,CAAC,CAAC;IACH,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC;IAC3B,OAAO,KAAK,CAAC;CACd;AACD;IACE,OAAO,MAAM,CAAC;CACf;;kBCvFgC,IAAwB,EAAE,SAAiB,EAAE,gBAA8B,EAAE,cAA0B,EAAE,KAAiB;IACzJ,IAAM,UAAU,GAAGK,yBAAU,CAAC,IAAI,CAAC,CAAC;IACpC,QAAQ,CAAC,MAAM,CACbX,6BAACY,mBAAQ,IAAC,KAAK,EAAE,KAAK;QACpBZ,6BAAC,aAAa;YACZA,6BAACa,gCAAe,IAAC,OAAO,EAAE,YAAY;gBACpCb,6BAAC,UAAU,OAAG,CACE,CACJ,CACP,EACX,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CACnC,CAAC;CACH;;ACrBD,qBAAwB,GAAQ;IAC9B,IAAM,GAAG,GAAa,EAAE,CAAC;IACzB,KAAK,IAAM,GAAG,IAAI,GAAG,EAAE;QACrB,IAAI,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;YAC3B,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACf;KACF;IACD,GAAG,CAAC,OAAO,CAAC,UAAC,GAAW;QACtB,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC;KACjB,CAAC,CAAC;IACH,OAAO,GAAG,CAAC;CACZ;AACD,0BAA6B,GAAQ,EAAE,GAAyB;IAC9D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;QAC1C,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;YACf,OAAO,CAAC,CAAC;SACV;KACF;IACD,OAAO,CAAC,CAAC,CAAC;CACX;AACD,AAAO,IAAM,cAAc,GAAG,gBAAgB,CAAC;AAE/C,IAAa,gBAAgB,GAAG;IAC9B,KAAK,EAAE,OAAO;IACd,IAAI,EAAE,MAAM;IACZ,KAAK,EAAE,OAAO;CACf,CAAC;AAEF;IAIE,gBACkB,IAAY,EACZ,IAAU,EACnB,QAAyB;QAAzB,yBAAA,EAAA,gBAAyB;QAFhB,SAAI,GAAJ,IAAI,CAAQ;QACZ,SAAI,GAAJ,IAAI,CAAM;QACnB,aAAQ,GAAR,QAAQ,CAAiB;KAC9B;IAEG,0BAAS,GAAhB,UAAiB,MAAmB;QACjC,IAAY,CAAC,MAAM,GAAG,MAAM,CAAC;KAC/B;IAEM,iCAAgB,GAAvB,UAAwB,MAAmB;QACxC,IAAY,CAAC,aAAa,GAAG,MAAM,CAAC;KACtC;IACH,aAAC;CAAA,IAAA;AAED;IAKE,qBAA4B,MAAgC;QAAhC,WAAM,GAAN,MAAM,CAA0B;QAJzC,cAAS,GAExB,EAAE,CAAC;KAEyD;IAEzD,iCAAW,GAAlB,UAAmB,KAAa,EAAE,OAA4B;QAC5D,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QACvC,IAAI,CAAC,UAAU,EAAE;YACf,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,UAAU,GAAG,EAAE,CAAC;SACzC;QACD,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACzB,OAAO,IAAI,CAAC;KACb;IAEM,oCAAc,GAArB,UAAsB,KAAc,EAAE,OAA6B;QACjE,IAAI,CAAC,KAAK,EAAE;YACV,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAC7B;aAAM;YACL,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;YAChC,IAAI,QAAQ,CAAC,oBAAoB,CAAC,KAAK,CAAC,EAAE;gBACxC,IAAM,UAAU,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACnC,IAAI,CAAC,OAAO,EAAE;oBACZ,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC;iBACxB;qBAAM;oBACL,IAAM,CAAC,GAAG,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;oBACtC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;wBACV,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;qBACzB;oBACD,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE;wBAC3B,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC;qBACxB;iBACF;aACF;SACF;QACD,OAAO,IAAI,CAAC;KACb;IAEM,8BAAQ,GAAf,UAAgB,GAAW;QACzB,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;YACf,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;SACrB;QACD,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QAC3B,IAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,UAAU,EAAE;YACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACjD,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;aACpB;SACF;QACD,IAAI,IAAI,CAAC,MAAM,IAAI,GAAG,CAAC,QAAQ,EAAE;YAC/B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;SAC3B;QACD,OAAO,IAAI,CAAC;KACb;IACM,+BAAS,GAAhB,UAAiB,MAAoB;QAClC,IAAY,CAAC,MAAM,GAAG,MAAM,CAAC;QAC9B,OAAO,IAAI,CAAC;KACb;IACH,kBAAC;CAAA,IAAA;AAED;IAAiCD,+BAAW;IAG1C,qBAAmB,WAAmB;QAAtC,YACE,iBAAO,SACR;QAFkB,iBAAW,GAAX,WAAW,CAAQ;QAFtB,UAAI,GAA8C,EAAE,CAAC;;KAIpE;IACM,6BAAO,GAAd,UAAe,OAAqB,EAAE,IAAiB;QAAvD,iBAkBC;QAlBqC,qBAAA,EAAA,SAAiB;QACrD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,OAAO,KAAK,OAAO,GAAA,CAAC,EAAE;YACrD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,OAAO,SAAA,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;YAClC,OAAO,CAAC,IAAI,CACV,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAA,EACnC,UAAA,MAAM,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAA,CACrC,CAAC;YACF,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,cAAc,EAAE,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;gBAClE,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC;oBAC9B,KAAI,CAAC,MAAM,GAAG,CAAC,CAAC;oBAChB,IAAI,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;wBACxB,KAAI,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,cAAc,EAAE,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;qBACnE;iBACF,EAAE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC;aAC7B;SACF;QACD,OAAO,OAAO,CAAC;KAChB;IACO,kCAAY,GAApB,UAAqB,OAAqB;QACxC,IAAM,CAAC,GAAG,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,OAAO,KAAK,OAAO,GAAA,CAAC,CAAC;QACxE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;YACV,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACvB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC1B,IAAI,IAAI,CAAC,MAAM,EAAE;oBACf,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAC1B,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;iBACjB;gBAED,IAAI,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,cAAc,EAAE,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC;aAClE;SACF;QACD,OAAO,IAAI,CAAC;KACb;IACH,kBAAC;CAAA,CAxCgC,WAAW,GAwC3C;;AChJD,IAAM,QAAQ,GAAyC,EAAE,CAAC;AAE1D,oBAA8B,IAAO,EAAE,SAAyB,EAAE,KAAwB;IAAnD,0BAAA,EAAA,iBAAyB;IAAE,sBAAA,EAAA,gBAAwB;IACxF,IAAM,GAAG,GAAG,SAAS,GAAG,GAAG,GAAG,KAAK,CAAC;IACpC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;QAClB,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC;QACnC,QAAQ,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,cAAc,EAAE,UAAA,CAAC;YACzC,IAAM,KAAK,GAAG,QAAQ,EAAE,CAAC;YACzB,KAAK,IAAI,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;SAClE,CAAC,CAAC;KACJ;IACD,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAW,CAAC,CAAC;IACnC,OAAO,IAAI,CAAC;CACb;;ACbD,IAAM,uBAAuB,GAAG,cAAM,OAAAe,8CAAqB,GAAA,CAAC;AAC5D,IAAM,qBAAqB,GAAG,cAAM,OAAAA,4CAAmB,GAAA,CAAC;AAExD,wBAA+B,OAAmC,EAAE,aAA8B,EAAE,gBAAoE;IAApG,8BAAA,EAAA,sBAA8B;IAAE,iCAAA,EAAA,0CAAoE;IACtK;QAA6Bf,kCAAe;QAK1C,wBAAY,KAAS,EAAE,OAAa;YAApC,YACE,kBAAM,KAAK,EAAE,OAAO,CAAC,SAKtB;YAJC,KAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;YACzC,KAAI,CAAC,KAAK,GAAG;gBACX,SAAS,EAAE,IAAI;aAChB,CAAC;;SACH;QACM,8CAAqB,GAA5B,UAA6B,SAAc,EAAE,SAAc;YACzD,OAAO,SAAS,CAAC,SAAS,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;SACrD;QACM,0CAAiB,GAAxB;YAAA,iBAeC;YAdC,IAAM,OAAO,GAAG,OAAO,EAAE;iBACtB,IAAI,CAAC,UAAA,MAAM;gBACV,IAAM,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAChD,KAAI,CAAC,QAAQ,CAAC;oBACZ,SAAS,WAAA;iBACV,CAAC,CAAC;aACJ,CAAC;iBACD,KAAK,CAAC,UAAA,SAAS;gBACd,IAAM,SAAS,GAAG,qBAAqB,CAAC;gBACxC,KAAI,CAAC,QAAQ,CAAC;oBACZ,SAAS,WAAA;iBACV,CAAC,CAAC;aACJ,CAAC,CAAC;YACL,UAAU,CAAC,OAAO,CAAC,CAAC;SACrB;QAEM,+BAAM,GAAb;YACU,IAAA,gCAAS,CAAgB;YACzB,IAAA,wCAAgB,CAAU;YAClC,OAAO,SAAS,GAAGe,oBAAC,SAAS,eAAK,IAAI,CAAC,KAAK,EAAI,GAAGA,oBAAC,gBAAgB,eAAK,IAAI,CAAC,KAAK,EAAI,CAAC;SACzF;QACH,qBAAC;KAAA,CArC4BC,eAAe,GAqC3C;IACD,OAAO,cAA0C,CAAC;CACnD;;AC5CD,IAAM,WAAW,GAAG,EAAE,CAAC;AAEvB,sBAAsB,UAAkB;IACtC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE;QAC5B,WAAW,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;QAC/B,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAC5B;CACF;AAED,yBAAyB,UAAkB,EAAE,MAAgB,EAAE,cAAsB,EAAE,UAAsB;IAC3G,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE;QAC3B,UAAU,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;KAC7B;IACD,UAAU,CAAC,UAAU,CAAC,CAAC,cAAc,CAAC,GAAG,MAAM,CAAC;IAChD,IAAI,UAAU,KAAK,QAAQ,EAAE;QAC3B,YAAY,CAAC,UAAU,CAAC,CAAC;KAC1B;CACF;AAED,uBAA8B,SAAiB,EAAE,OAAgB;IAC/D,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,UAAA,UAAU;QACrC,eAAe,CAAC,SAAS,GAAG,GAAG,GAAG,UAAU,EAAE,OAAO,CAAC,UAAU,CAAC,EAAE,SAAS,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC,UAAU,GAAG,QAAQ,GAAG,WAAW,CAAC,CAAC;KACxI,CAAC,CAAC;CACJ;AAED,wBAA+B,cAAsB,EAAE,QAAiB;IACtE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,UAAA,WAAW;QACvC,eAAe,CAAC,WAAW,EAAE,QAAQ,CAAC,WAAW,CAAC,EAAE,cAAc,EAAE,QAAQ,CAAC,WAAW,CAAC,CAAC,UAAU,GAAG,QAAQ,GAAG,WAAW,CAAC,CAAC;KAChI,CAAC,CAAC;CACJ;;sBChCkC,MAAS,EAAE,MAAS;IACrD,KAAK,IAAM,GAAG,IAAI,MAAM,EAAE;QACxB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;YAC7B,MAAc,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;SACpC;KACF;IACD,OAAO,MAAe,CAAC;CACxB;;ACID,IAAM,eAAe,GAAuB,EAAE,CAAC;AAC/C,IAAM,WAAW,GAAsC,EAAE,CAAC;AAC1D,IAAM,YAAY,GAA6D,EAAE,CAAC;AAElF,qBAA+B,SAAiB;IAC9C,IAAI,OAAU,CAAC;IACf,IAAI,MAAM,CAAC,OAAO,CAAC,EAAE;QACnB,OAAO,GAAG,IAAI,MAAM,CAAC,OAAO,CAAC,CAC3B,EAAE,EACF;YACE,GAAG,EAAE,UAAC,MAAU,EAAE,GAAW;gBAC3B,OAAO,UAAC,IAAS,IAAK,QAAC,EAAE,IAAI,EAAE,SAAS,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,MAAA,EAAE,IAAC,CAAC;aAC/D;SACF,CACF,CAAC;KACH;SAAM;QACL,OAAO,GAAG,gBAAgB,CAAC,SAAS,CAAQ,CAAC;KAC9C;IACD,OAAO;QACL,SAAS,WAAA;QACT,OAAO,SAAA;KACR,CAAC;CACH;AAED,0BAA0B,SAAiB;IACzC,IAAM,OAAO,GAAG,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;IAC9C,YAAY,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC;IAClC,OAAO,OAAO,CAAC;CAChB;AAED,oBAA8B,SAAY;IACxC,IAAM,KAAK,GAAG,SAAgB,CAAC;IAC/B,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;QAClB,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;KACpB;IACD,KAAK,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC;IAC1B,OAAO,KAIN,CAAC;CACH;AAED,8BAA2C,OAAuD;IAChG,IAAM,GAAG,GAAG,OAAc,CAAC;IAC3B,OAAO,GAA6C,CAAC;CACtD;AACD,6BAA0C,MAA0E;IAClH,IAAM,GAAG,GAAG,MAAa,CAAC;IAC1B,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC;IACtB,OAAO,GAA6C,CAAC;CACtD;AACD,+BAA4C,OAAuD;IACjG,IAAM,GAAG,GAAG,OAAc,CAAC;IAC3B,OAAO,GAA6C,CAAC;CACtD;AACD,8BAA2C,MAA0E;IACnH,IAAM,GAAG,GAAG,MAAa,CAAC;IAC1B,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC;IACtB,OAAO,GAA6C,CAAC;CACtD;AACD,oBAAoC,KAAQ,EAAE,WAAc,EAAE,YAAe;IAC3E,IAAM,OAAO,GAAG,aAAa,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;IAClD,IAAM,QAAQ,GAAG,cAAc,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;IACrD,OAAO,EAAE,KAAK,OAAA,EAAE,OAAO,SAAA,EAAE,QAAQ,UAAA,EAAE,CAAC;CACrC;AAED,0BAAoC,SAAiB,EAAE,UAAa,EAAE,MAAa;IACjF,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE;QAC3B,aAAa,CAAC,SAAS,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;QACzC,cAAc,CAAC,SAAS,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC3C,IAAM,SAAO,GAAG,gBAAgB,CAAC,SAAS,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG;YACrC,SAAO,CAAC,GAAG,CAAC,GAAG,UAAC,IAAS,IAAK,QAAC,EAAE,IAAI,EAAE,SAAS,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,MAAA,EAAE,IAAC,CAAC;SACvE,CAAC,CAAC;QACH,WAAW,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC;QAC9B,IAAM,MAAM,GAAG,gBAAgB,CAAC,SAAS,CAAC,CAAC;QAC3C,IAAM,KAAK,GAAG,QAAQ,EAAE,CAAC;QACzB,IAAI,KAAK,EAAE;YACT,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SACxB;aAAM;YACL,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC9B;KACF;IACD,OAAO,UAAU,CAAC;CACnB;AAED,uBAA6B,SAAY,EAAE,OAAU;IACnD,OAAO,YAAY,CACjB;QACE,IAAI,EAAE,oBAAoB,CAAC,UAAS,IAAS,EAAE,WAA0B,EAAE,SAAe;YAA3C,4BAAA,EAAA,uBAA0B;YACvE,OAAO,SAAS,CAAC;SAClB,CAAC;QACF,OAAO,EAAE,oBAAoB,CAAC,UAAS,OAAoC,EAAE,WAA0B,EAAE,SAAe;YAA3C,4BAAA,EAAA,uBAA0B;YACrG,oBACM,WAAmB,IACvB,OAAO,eAAQ,WAAmB,CAAC,OAAO,EAAK,OAAO,KACtD;SACH,CAAC;KACH,EACD,OAAO,CACR,CAAC;CACH;AAED,wBAA8B,SAAY,EAAE,QAAW;IACrD,OAAO,YAAY,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;CACnC;AAED,mBAA0B,SAA6B,EAAE,SAAiB,EAAE,gBAAmC,EAAE,cAA+B;IAApE,iCAAA,EAAA,qBAAmC;IAAE,+BAAA,EAAA,mBAA+B;IAC9I,IAAM,KAAK,GAAG,UAAU,CAAC,gBAAgB,EAAE,cAAc,EAAE,eAAe,CAAC,CAAC;IAC5E,QAAQ,CAAC,SAAS,EAAE,SAAS,EAAE,gBAAgB,EAAE,cAAc,EAAE,KAAK,CAAC,CAAC;CACzE;;;;;;;;;;;;;;;;;"}